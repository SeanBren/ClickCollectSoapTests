<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project id="11b3be90-ab8e-4065-9b50-e31fb1c36ed6" activeEnvironment="Default" name="ClickCollect RESTAPI Tests-Dev" resourceRoot="" soapui-version="5.5.0" abortOnError="false" runType="SEQUENTIAL" xmlns:con="http://eviware.com/soapui/config"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.actions.iface.tools.soapui.TestRunnerAction@values-local"><![CDATA[<xml-fragment xmlns:con="http://eviware.com/soapui/config">
  <con:entry key="Report Format(s)" value=""/>
  <con:entry key="Host:Port" value=""/>
  <con:entry key="Export JUnit Results" value="false"/>
  <con:entry key="Export All" value="false"/>
  <con:entry key="Save After" value="false"/>
  <con:entry key="Add Settings" value="false"/>
  <con:entry key="WSS Password Type" value=""/>
  <con:entry key="TestSuite" value="AccountCreation"/>
  <con:entry key="Endpoint" value=""/>
  <con:entry key="Select Report Type" value=""/>
  <con:entry key="System Properties" value=""/>
  <con:entry key="Password" value=""/>
  <con:entry key="Print Report" value="false"/>
  <con:entry key="Open Report" value="false"/>
  <con:entry key="Export JUnit Results with test properties" value="false"/>
  <con:entry key="Global Properties" value=""/>
  <con:entry key="Project Properties" value=""/>
  <con:entry key="Project Password" value=""/>
  <con:entry key="TestCase" value="&lt;all>"/>
  <con:entry key="Username" value=""/>
  <con:entry key="user-settings.xml Password" value=""/>
  <con:entry key="TestRunner Path" value=""/>
  <con:entry key="Environment" value="Default"/>
  <con:entry key="Coverage Report" value="false"/>
  <con:entry key="Enable UI" value="false"/>
  <con:entry key="Root Folder" value=""/>
  <con:entry key="Ignore Errors" value="false"/>
  <con:entry key="Domain" value=""/>
  <con:entry key="Tool Args" value=""/>
  <con:entry key="Save Project" value="false"/>
</xml-fragment>]]></con:setting></con:settings><con:interface xsi:type="con:RestService" id="a992fa5a-9d99-4a8d-802a-c2d69374b741" wadlVersion="http://wadl.dev.java.net/2009/02" name="https://beta.mcr-symphony.net" type="rest" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:endpoint>https://beta.mcr-symphony.net</con:endpoint></con:endpoints><con:resource name="testconnection" path="/ClickCollectRESTAPI/api/authentication/testconnection" id="b37ed18f-11b9-4040-ac41-d9f0cf8a0e31"><con:settings/><con:parameters/><con:method name="TestConnection" id="17e0b48a-d223-437c-9beb-15dc3d216f7a" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain</con:mediaType><con:status>418</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html</con:mediaType><con:status>200</con:status><con:params/><con:element>html</con:element></con:representation><con:request name="TestConnection" id="c3769efd-f447-4275-9d09-35368b1df6cd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/testconnection</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="findid" path="/ClickCollectRESTAPI/api/account/findid" id="ff2ead61-f877-44bf-b52b-22751afebd51"><con:settings/><con:parameters/><con:method name="FindID" id="ff2cb946-3e1a-489a-ac12-15632d6a3a88" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:fin="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/findid">fin:Fault</con:element></con:representation><con:request name="FindID" id="43bd068a-9533-4c2f-bed2-53acbd02f42e" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "value": "${#Project#Email}",
  "valueType": "Email"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/findid</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource><con:resource name="detail" path="/ClickCollectRESTAPI/api/account/detail" id="8a65ace6-fc8d-4ebe-a95d-90ae46d2dc40"><con:settings/><con:parameters/><con:method name="Detail" id="ca4521ef-b8d6-4fbe-be72-9e7cc51c6029" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:det="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/detail">det:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="GetAccountDetail" id="ae488a23-11d8-47f7-8da3-9f102dc8a801" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#Authorization}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/detail</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="create" path="/ClickCollectRESTAPI/api/account/create" id="01748d8a-f8e4-4266-a000-8a64b24cb187"><con:settings/><con:parameters/><con:method name="Create" id="68d86bfa-3252-440d-905b-9f66c0313868" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="CreateAccount" id="418a346e-7732-4cb2-88a0-739319cb7c39" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "title": "${#Project#title}",
  "firstName": "${#Project#firstName}",
  "lastName": "${#Project#lastName}",
  "dateOfBirth": "${#Project#dateOfBirth}",
  "email": "${#Project#email}",
  "mobileNumber": "${#Project#mobileNumber}",
  "password": "${#Project#password}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/create</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="qrcodes" path="/ClickCollectRESTAPI/api/account/qrcodes" id="f569a175-853f-4564-96e9-db416aa402b1"><con:settings/><con:parameters/><con:method name="QRCodes" id="aeddc1ae-f36e-49ca-a1f1-120b76521dbb" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="GetQRCodes" id="58dc7daa-a902-4cca-a3df-d0c85bb5682d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value=""/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "lastIDUsed": 0
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="paymentcards" path="/ClickCollectRESTAPI/api/account/paymentcards" id="3adb6713-4a09-4980-b89e-691e43240460"><con:settings/><con:parameters/><con:method name="ListCards" id="69053d70-3af1-47c4-80a1-5b09a76d459b" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="PaymentCards" id="35857074-bc3e-46dd-9dfa-4624f807c674" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value=""/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID}
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="purses" path="/ClickCollectRESTAPI/api/account/purses" id="cde63625-c8a1-4dbb-b80a-9dbb88273eb4"><con:settings/><con:parameters/><con:method name="ListPurses" id="364d89d0-f17d-4515-b21c-998d726f0e29" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:pur="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/purses">pur:Fault</con:element></con:representation><con:request name="Purses" id="2628f2f5-f4db-4b62-83c6-7fd309421964" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}"
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="gettoken" path="/ClickCollectRESTAPI/api/authentication/gettoken" id="a6b784fe-3982-4b7d-8c24-c05ed15dc0a0"><con:settings/><con:parameters/><con:method name="GetToken" id="d4e65da8-1075-4f67-b1db-9de5cdea0ce4" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="GetToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "${#Project#companyGuid}",
  "userGuid": "${#Project#userGuid}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource><con:resource name="resetmaccode" path="/ClickCollectRESTAPI/api/authentication/resetmaccode" id="382d9e4a-40bc-4ece-8d88-749b64727b2f"><con:settings/><con:parameters/><con:method name="ResetMacCode" id="c7da0550-5741-483f-ba16-bbd332a81260" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:request></con:method></con:resource><con:resource name="timeslots" path="/ClickCollectRESTAPI/api/menu/timeslots" id="1ccf83b3-8901-4cb3-b3ac-0f0d54a0de05"><con:settings/><con:parameters/><con:method name="timeslots" id="e78ecbe2-bec5-404a-9044-51de35ec6d41" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:tim="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/timeslots">tim:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="gettimeslots" id="67083436-b2c1-4172-b10d-312a69e2f870" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "orderDate": "${Project#DateToday}"

}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/timeslots</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="availability" path="/ClickCollectRESTAPI/api/menu/availability" id="5efe592c-c04a-476e-9e24-2ca7effa91e1"><con:settings/><con:parameters/><con:method name="MenuAvailability" id="09eaa2d9-38d4-4fd1-851e-a31982a15419" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="availability" id="cc43e3b8-2e94-473f-9fe8-8c258161a2cb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#Authorization}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "startDate": "${#Project#DateToday}",
  "endDate": "${#Project#DateToday}",
  "periodID": ${#Project#PeriodID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/availability</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="detail" path="/ClickCollectRESTAPI/api/menu/detail" id="c1d90127-7f17-49e6-b753-20a0c36fd94f"><con:settings/><con:parameters/><con:method name="MenuDetail" id="e6b3260d-bbdb-458c-9f23-2f5c2a38f5ec" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:det="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/detail">det:Response</con:element></con:representation><con:request name="detail" id="a07a7e46-22a9-4892-805b-6be2aa197e39" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "menuID": ${#Project#MenuID1}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/detail</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="list" path="/ClickCollectRESTAPI/api/order/list" id="7fb2d8a3-0d95-4787-8b32-45b1c600049d"><con:settings/><con:parameters/><con:method name="OrdersList" id="e785e1b5-b04e-46f3-9912-1fdffbe9c805" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:list="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list">list:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:list="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list">list:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400 500</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="List" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#orderID},
  "getFullDetail": true,
  "pageNumber": 0,
  "ordersPerPage": 0,
  "status": [
    "Draft"
  ]
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="create" path="/ClickCollectRESTAPI/api/order/create" id="8a355e46-0f2a-48b7-bf16-d1ceec1aa010"><con:settings/><con:parameters/><con:method name="OrdersCreate" id="dba78787-d556-464f-9238-31037b0b4f9d" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:cre="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/create">cre:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>422</con:status><con:params/><con:element xmlns:cre="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/create">cre:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="Create" id="218b3d02-03a2-4c3a-a3d2-dab98cb4f141" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "periodID": ${#Project#PeriodID},
  "customerRef": "${#Project#CustRef}",
  "slotStart": "${#Project#SlotStart}",
  "slotEnd": "${#Project#SlotEnd}",
  "preparationTime": "${#Project#PrepTime}",
  "orderNow": true
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/create</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="addlines" path="/ClickCollectRESTAPI/api/order/addlines" id="45e108b2-8d97-4d7e-a3bd-5a8bb7b6ccdc"><con:settings/><con:parameters/><con:method name="addLines" id="4803ab43-c03f-4384-ac94-20865827f15d" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400 404 500</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:add="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/addlines">add:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="addlines" id="b7795447-e26b-4c1b-ba78-bdbbec9d590d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="MACCode"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>[
  {
    "orderLineID": -1,
    "orderID": ${#Project#OrderID},
    "menuItemID": ${#Project#OrderID},
    "menuID": ${#Project#MenuID1},
    "productID": 346605,
    "displayName": "BABTCHAM 200ML 4 PACK",
    "quantityRequired": 1,
    "quantityAvailable": 1,
    "priceLevelID": 228619,
    "modifierID": 227329,
    "modifierName": "Standard Modifier",
    "portionSize": 100,
    "price": 4.39,
    "notes": "string",
    "notesTitle": "string",
    "notesHint": "string",
    "lineType": "Product",
    "parentOrderLineID": 0,
    "childItems": [
      {
        "orderLineID": 0,
        "orderID": 0,
        "menuItemID": 0,
        "menuID": 0,
        "productID": 0,
        "displayName": "string",
        "quantityRequired": 0,
        "quantityAvailable": 0,
        "priceLevelID": 0,
        "modifierID": 0,
        "modifierName": "string",
        "portionSize": 0,
        "price": 0,
        "notes": "string",
        "notesTitle": "string",
        "notesHint": "string",
        "lineType": "Product",
        "parentOrderLineID": 0,
        "childItems": [
          null
        ]
      }
    ]
  }
]</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/addlines</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="amendline" path="/ClickCollectRESTAPI/api/order/amendline" id="b7f8330c-2018-4709-8874-146e55e64787"><con:settings/><con:parameters/><con:method name="AmendLine" id="7abd5eb5-e834-4715-b9e0-c8bd6ce553be" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="amendline" id="b1cddf45-bca3-4852-bea2-2191382bfa58" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value=""/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "orderLineID": ${#Project#OrderLineID},
  "quantity": 0
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="delivery" path="/ClickCollectRESTAPI/api/order/delivery" id="2e28d64c-16e0-46d8-970e-ac346eaf1dbc"><con:settings/><con:parameters/><con:method name="Delivery" id="9a591f41-2f15-4b0d-8bd2-5622fcfceadc" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:request name="delivery" id="f34751ca-1bce-4fee-8701-04b53b3d7abe" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "orderID": ${#Project#OrderID},
  "locationID": ${#Project#LocationID},
  "location": "${#Project#Location}",
  "tableID": ${#Project#TableID},
  "tableNo": ${#Project#TableNo}
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="abandon" path="/ClickCollectRESTAPI/api/order/abandon" id="ee351f80-95cf-489c-97cc-4521a8b3de95"><con:settings/><con:parameters/><con:method name="Abandon" id="97c2764b-090b-46d7-bfa7-867c4c5d23f6" method="POST"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:aban="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/abandon">aban:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>200</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="abandon" id="863a613d-4c71-49a5-b92b-1b3758cf9fe8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "notes": "${#Project#Notes}"
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="validate" path="/ClickCollectRESTAPI/api/order/validate" id="7d5d1f54-6918-49c9-ae11-48aac770aab1"><con:settings/><con:parameters/><con:method name="Validate" id="f5ba0613-2817-4037-8347-7e9f05194e9d" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>422</con:status><con:params/><con:element xmlns:val="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/validate">val:Fault</con:element></con:representation><con:request name="validate" id="eb22edb6-e1d3-4a3a-9990-6f9f78e386b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value=""/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "purseID": 0,
  "suppressedValidations": [
    "ItemPriceValue"
  ]
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="pay" path="/ClickCollectRESTAPI/api/order/pay" id="24c6dd81-758f-413a-a7ec-9defc2471151"><con:settings/><con:parameters/><con:method name="Pay" id="4da9ec88-0ec4-4cbf-b59e-51f8db684780" method="POST"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:pay="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/pay">pay:Fault</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>404 400</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>422</con:status><con:params/><con:element xmlns:pay="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/pay">pay:Fault</con:element></con:representation><con:request name="pay" id="f13f5010-9ce8-4b12-818d-363813d33185" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="$.orders.[*].orderItems.[*].orderLineID"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "purseID": ${#Project#PurseID},
  "suppressedValidations": [
    "ItemPriceValue"
  ],
  "paymentType": "SavedCard",
  "paymentCardID": ${#Project#PaymentCardID1}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/pay</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="instructions" path="/ClickCollectRESTAPI/api/product/instructions" id="a7aec82d-109d-42fe-8848-7f46f5072cc4"><con:settings/><con:parameters/><con:method name="Instructions" id="bcf2adda-dd6c-4f3d-add8-4eb01d9d3869" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:ins="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/product/instructions">ins:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ins="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/product/instructions">ins:Response</con:element></con:representation><con:request name="instructions" id="03ec317f-7f4d-43d6-bd5b-f286bfdb45a4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "productIDs": [
    0
  ]
}</con:request><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="getsites" path="/ClickCollectRESTAPI/api/site/getsites" id="6d174f10-6394-4cdf-8c82-23933bc72354"><con:settings/><con:parameters/><con:method name="GetSites" id="47f96875-9a5a-4da3-8f05-5204996560d7" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/problem+json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:get="https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/site/getsites">get:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:request name="getsites" id="139e4fb0-f76c-4689-a270-243a85fa957c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/site/getsites</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="isactive" path="/ClickCollectRESTAPI/api/site/isactive" id="cb779cb4-5976-46c6-9e00-a5c4c6dd7bfa"><con:settings/><con:parameters/><con:method name="IsActive" id="494d72eb-ef08-4328-9ace-8650cdf1b9f5" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:request name="isactive" id="f66ba7af-9d1f-4f07-9c51-287b7aa283fc" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SiteKey" value="${#Project#SiteKey}"/>
  &lt;con:entry key="MACCode" value="5"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/site/isactive</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource><con:resource name="delivery" path="/ClickCollectRESTAPI/api/site/delivery" id="a470f57f-78c2-4199-a918-99f29dc4fc23"><con:settings/><con:parameters/><con:method name="SiteDelivery" id="90266d15-5c74-4e04-9e77-f642a6f05b8a" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType xsi:nil="true"/><con:status>401</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/plain; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element>data</con:element></con:representation><con:request name="sitedelivery" id="153e46ec-5df6-4162-9f46-9672c09b8642" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="9"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/site/delivery</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:request></con:method></con:resource></con:interface><con:testSuite id="08e165b7-55a6-4fdc-8bf6-0c9b95b52672" name="AccountCreation"><con:description>TestSuite generated for REST Service [https://beta.mcr-symphony.net]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="27d54871-1e9a-423e-844b-95db91952d0c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="testconnection TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [testconnection] located at [/ClickCollectRESTAPI/api/authentication/testconnection]</con:description><con:settings/><con:testStep type="restrequest" name="TestConnection" id="fb046952-ecf0-4d57-ac12-b3c7a1080f20"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/testconnection" methodName="TestConnection" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="TestConnection" id="c3769efd-f447-4275-9d09-35368b1df6cd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/testconnection</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="471def9e-ffe8-4eac-92aa-1a150552d10e" name="Valid HTTP Status Codes"><con:configuration><codes>418</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="40223145-f834-47d7-92a6-fb395d009998" name="Contains"><con:configuration><token>I'm a teapot</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="97386bb1-b000-45c5-bec6-3ef573a90b4c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="create TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [create] located at [/ClickCollectRESTAPI/api/account/create]</con:description><con:settings/><con:testStep type="groovy" name="IncrmtAcntDetail" id="c105032e-d8de-40a5-ae0b-926503864e11"><con:settings/><con:config><script>def lastName = testRunner.testCase.testSuite.getPropertyValue("lastName")
//replace all numerics from string
lastName = lastName.replaceAll("[^\\d]", "")
incrementValue = lastName.toInteger() + 1;
//log.info incrementValue

if (incrementValue &lt;= 100) {
    // Prop name AND value are strings...
   testRunner.testCase.testSuite.setPropertyValue("lastName", ("Account" + incrementValue.toString()));
}
 //def AccountIDNew = testRunner.testCase.testSuite.getPropertyValue("lastName")
 //log.info AccountIDNew

 //Uncrement Email numeric value
 def email = testRunner.testCase.testSuite.getPropertyValue("Email")

email = email.replaceAll("[^\\d]", "")
incrementValue = email.toInteger() + 1;
//log.info incrementValue

if (incrementValue &lt;= 100) {
    // Prop name AND value are strings...
   testRunner.testCase.testSuite.setPropertyValue("email", ("email" + incrementValue.toString() + "@mcr-systems.co.uk"));
}</script></con:config></con:testStep><con:testStep type="restrequest" name="createAccount" id="eba99a55-59bd-440d-a593-79061f700177"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/create" methodName="Create" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="createAccount" id="418a346e-7732-4cb2-88a0-739319cb7c39" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "title": "${#TestSuite#title}",
  "firstName": "${#TestSuite#firstName}",
  "lastName": "${#TestSuite#lastName}",
  "dateOfBirth": ${#TestSuite#dateOfBirth},
  "email": "${#TestSuite#Email}",
  "mobileNumber": "${#TestSuite#mobileNumber}",
  "password": "${#TestSuite#password}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/create</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="fbb7e385-aed4-4f50-b7be-0f60c49de070" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="SaveAccountID" id="16ebe657-1f2f-4c7d-9800-c7b142b5da3b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>AccountIDTransfer</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>createAccount</con:sourceStep><con:targetType>AccountID</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="935e996b-3224-4e63-9b05-014d761ec7c7"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("createAccount").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties><con:property><con:name>IncrementValue</con:name><con:value>2</con:value></con:property><con:property><con:name>lastName</con:name><con:value>2</con:value></con:property></con:properties></con:testCase><con:testCase id="7a927673-53d0-4830-b0de-821cc23ca7e4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="GetToken" id="4ec5ed0e-14c4-476f-b012-33b99df8eb49"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "${#Project#companyGuid}",
  "userGuid": "${#Project#userGuid}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3529ebc9-f71e-41ac-940f-53bf9da73c65" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer - Token" id="3915bac6-30c7-416d-ab76-6951c6bfebee"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="828a88ab-4ba9-4ea2-b97a-f9c5fec3e968"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2f7775d0-8353-4105-aab1-7f853bb698ee" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="a673ea82-c47f-43b4-9e7b-8f86846a03b0"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="a19886c0-6237-48fe-8c20-0b3de4a6e310" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="findid TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [findid] located at [/ClickCollectRESTAPI/api/account/findid]</con:description><con:settings/><con:testStep type="restrequest" name="FindID" id="70624025-b8eb-4627-b9c4-0f85042a295a"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/findid" methodName="FindID" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FindID" id="43bd068a-9533-4c2f-bed2-53acbd02f42e" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "value": "${#TestSuite#Email}",
  "valueType": "Email"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/findid</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3f725a96-f433-4f7f-b7ad-a4438ae7f8e8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="c7c91047-2a1d-403b-8d80-8a424d975f1b" name="Contains"><con:configuration><token>${#testSuite#AccountID}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="95889c37-fd9c-41c8-8f47-6b1f3254ead0"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("FindID").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="0c21a5e3-c19b-44e5-87f4-2d2d9b6b865e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="detail TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [detail] located at [/ClickCollectRESTAPI/api/account/detail]</con:description><con:settings/><con:testStep type="restrequest" name="GetAcntDetail" id="f5ef3b4a-828d-4801-b857-1855c90385bf"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/detail" methodName="Detail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetAcntDetail" id="ae488a23-11d8-47f7-8da3-9f102dc8a801" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#TestSuite#AccountID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/detail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="d6475128-8003-4869-9145-e7dcb871e16e" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="71cad99d-4cf1-4c32-b6cf-453a0c8c247c" name="Contains"><con:configuration><token>${#testSuite#AccountID}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="bf03f05b-8cec-45fc-b5d7-49b634b2f05c"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("GetAcntDetail").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>Title</con:name><con:value>Mr</con:value></con:property><con:property><con:name>firstName</con:name><con:value>Test</con:value></con:property><con:property><con:name>lastName</con:name><con:value>Account18</con:value></con:property><con:property><con:name>dateOfBirth</con:name><con:value> "2002-11-01"</con:value></con:property><con:property><con:name>Email</con:name><con:value>email18@mcr-systems.co.uk</con:value></con:property><con:property><con:name>mobileNumber</con:name><con:value> 07651231234</con:value></con:property><con:property><con:name>password</con:name><con:value> P@ss1234</con:value></con:property><con:property><con:name>SiteKey</con:name><con:value>3/9</con:value></con:property><con:property><con:name>AccountID</con:name><con:value xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">11104</con:value></con:property></con:properties></con:testSuite><con:testSuite id="eef169f7-8cbc-4e03-855c-372396947529" name="AccountInfo"><con:description>TestSuite generated for REST Service [https://beta.mcr-symphony.net]</con:description><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="4cc73aa0-3770-4e3a-887f-03750dd50e2e" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="testconnection TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [ClickCollectRESTAPI] located at [/ClickCollectRESTAPI/api/authentication/testconnection]</con:description><con:settings/><con:testStep type="restrequest" name="TestConnection" id="4f73e9bf-9fa4-4662-87c3-2b7b64f5b1af"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/testconnection" methodName="TestConnection" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="TestConnection" id="c3769efd-f447-4275-9d09-35368b1df6cd" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/testconnection</con:originalUri><con:assertion type="Simple Contains" id="dfcd44e9-f2a7-49e3-9a82-744efa44cb8a" name="Contains"><con:configuration><token>I'm a teapot</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="477b4f8a-cbd4-4dc4-9467-2172a1fe2f9b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TestCase" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="getToken" id="fd2f4b12-a90b-4419-ba66-1da01700e5f8"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "${#Project#companyGuid}",
  "userGuid": "${#Project#userGuid}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="946a615d-fdca-49ac-82bf-ddf34693b3a0" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="dae2ee88-31f0-471c-9d00-3d96a22f3d3a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="3920112a-42de-41c6-aca0-05443b98fa72"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="91d1ed88-905c-485a-94ba-7265931d02e8" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="d7dc2194-c553-4be1-84e0-5b621b25e64a"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="c604d105-0e74-427b-b51d-84bafd880308" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="findid" searchProperties="true"><con:description>TestCase generated for REST Resource [findid] located at [/ClickCollectRESTAPI/api/account/findid]</con:description><con:settings/><con:testStep type="restrequest" name="FindID" id="652fa764-c94d-4742-a531-d075cd8b0e68"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/findid" methodName="FindID" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="FindID" id="43bd068a-9533-4c2f-bed2-53acbd02f42e" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "value": "${#Project#Email}",
  "valueType": "Email"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/findid</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="73ca1dd7-daba-4a1c-a922-2acbe160a6c3" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="c2014e2a-869b-46f4-8730-26afef0af3d1"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("FindID").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="9eb4e306-3dcd-4c9b-ba77-0de4a20d259f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="detail" searchProperties="true"><con:description>TestCase generated for REST Resource [detail] located at [/ClickCollectRESTAPI/api/account/detail]</con:description><con:settings/><con:testStep type="restrequest" name="GetAccountDetail" id="9ce63e1f-49bf-40ff-a7d5-12bec052e635"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/detail" methodName="Detail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetAccountDetail" id="ae488a23-11d8-47f7-8da3-9f102dc8a801" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/detail</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e45698ad-ae0b-45c8-b9dc-1939bb13c5fc" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="7600f7a0-9c07-4145-b70c-9d65f18ac900"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("GetAccountDetail").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7660f6a3-fd30-4f8c-a2a1-6d72fba3641c" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="purses" searchProperties="true"><con:description>TestCase generated for REST Resource [purses] located at [/ClickCollectRESTAPI/api/account/purses]</con:description><con:settings/><con:testStep type="restrequest" name="Purses" id="35649cf1-1353-44f3-ab74-b9b7acaa299d"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/purses" methodName="ListPurses" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Purses" id="2628f2f5-f4db-4b62-83c6-7fd309421964" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/purses</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="add7710c-de69-48a9-8638-a7e3cc6ff7ba" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="a42dab20-d316-4fb0-911f-2ef1248d0e24" name="Contains"><con:configuration><token>"purseID":</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple Contains" id="28f9d9e3-1703-4ba4-8cf1-9834341f54c9" name="Contains 1"><con:configuration><token>"purseType":</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:selectedAuthProfile>No Authorization</con:selectedAuthProfile><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="650bb301-194e-41af-a3fc-eb9cbab95d50"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("Purses").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="e8e8a7f7-b0da-4225-a9db-29bbc61814d1" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="paymentsCards" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="getCards" id="fc918502-7ff9-487f-bea8-10b65699b974"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/paymentcards" methodName="ListCards" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getCards" id="35857074-bc3e-46dd-9dfa-4624f807c674" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/paymentcards</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="df136013-57e8-424c-b075-24ec9fb068b1" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="f632ee32-990b-4ed8-a0d1-634f72bbd3d1"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("getCards").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="edc1a4fd-dbab-4282-8d78-4fa21ed0afed" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="QRCodes" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="getQRCodes" id="133ba858-3403-496e-9203-ad7ec0330df3"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/account/qrcodes" methodName="QRCodes" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getQRCodes" id="58dc7daa-a902-4cca-a3df-d0c85bb5682d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "lastIDUsed": 0
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/account/qrcodes</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="5838533c-3a37-442c-a87d-02e7ca7cd01c" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="c2e3d4ab-9029-4371-9e97-b89c2ad85922" name="Contains"><con:configuration><token>"code":</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="4babb4ec-8195-4850-bae1-ae1deb61dbe4"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("getQRCodes").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="3c883b46-aa59-4b3a-9749-088116f3864f" name="Site"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f505de83-8696-4319-a305-6f7ab8fe2249" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="GetToken" id="9d78c989-1d69-4e60-bf8c-a6485aa5d9e1"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "${#Project#companyGuid}",
  "userGuid": "${#Project#userGuid}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3529ebc9-f71e-41ac-940f-53bf9da73c65" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer - Token" id="c99e726a-dd0c-4409-9119-a96457421200"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="1233faa4-d0e8-4394-aace-dfec354ec7f0"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2f7775d0-8353-4105-aab1-7f853bb698ee" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="ce8ecbf0-d6e9-4e81-a8c4-55523fa2fb9d"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="2e474d67-6c1c-48fb-9bb0-8430b085e9b4" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="getsites" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="getSites" id="50e35fa1-c17a-4d2b-8102-b05c5b4490fa"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/site/getsites" methodName="GetSites" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getSites" id="139e4fb0-f76c-4689-a270-243a85fa957c" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/site/getsites</con:originalUri><con:assertion type="Simple Contains" id="dd90c25d-c435-4f12-9c2a-fe6c94bf6a98" name="Contains"><con:configuration><token>Tortilla</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="42b1cdf5-668e-4cfc-a0b5-99b9322ac6d0" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="926b5870-01cc-4225-bd2a-1f78725b72a9"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("getSites").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="85a56cbf-e3c0-4bf9-8d2d-46254c58f515" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="isactive" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="isactive" id="9d4c82f6-73ac-452f-ae96-f4c16be823ef"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/site/isactive" methodName="IsActive" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="isactive" id="f66ba7af-9d1f-4f07-9c51-287b7aa283fc" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SiteKey" value="${#Project#SiteKey}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/site/isactive</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="30eef3e8-c075-4175-9b81-25e8035d4e9d" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="60cc81a7-472a-4e47-ab9d-0a89dd42f3ce"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("isactive").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="99f201ca-8b72-454d-ab1e-e19d7f806c65" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="delivery locations" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="deliverySites" id="da876157-2149-42d3-b1ed-b06acd9b32dd"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/site/delivery" methodName="SiteDelivery" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="deliverySites" id="153e46ec-5df6-4162-9f46-9672c09b8642" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/site/delivery</con:originalUri><con:assertion type="GroovyScriptAssertion" id="155ceec7-73af-4f04-b9cb-6de095296526" name="Script Assertion"><con:configuration><scriptText>//import groovy.json.JsonSlurper
//boolean flag;
//def response = messageExchange.response.responseContent;
//def slurper = new groovy.json.JsonSlurper();
//def Json1 = slurper.parseText(response);


//for (int i=0;i&lt;2;i++)


//	if (Json1.[0].locations[0].id == "401974")
//	{
//		flag = true;
//	}

//assert true==flag;</scriptText></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="ad18e4a6-d8ae-44f8-9f8b-98057f057817" name="JsonPath Match"><con:configuration><path>[0].locations[0].id</path><content>401974</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:assertion type="JsonPath Match" id="a02fe9e8-cca2-4fa1-adcf-ef9657155cb0" name="location nameRegEx"><con:configuration><path>[0].locations[?(@.id=='401974')].name</path><content>[Location A]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="0182fe0f-c2cd-4701-9269-61b59fad3e28"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("deliverySites").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="e4467d99-5b43-4c03-b6c3-6806bb1110bb" name="Instructions"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="7f8aa339-8879-4792-a5e5-c9ca47029705" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="GetToken" id="c10e4578-2d4f-453b-a141-0e9727e6da66"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "${#Project#companyGuid}",
  "userGuid": "${#Project#userGuid}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3529ebc9-f71e-41ac-940f-53bf9da73c65" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer - Token" id="a38fa4c4-a9bc-4d71-bc57-019ad74ce041"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="d21e6d29-26a5-4a19-9b72-538f35459037"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2f7775d0-8353-4105-aab1-7f853bb698ee" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="74396759-6d98-4114-a5d5-cec90e88afb0"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="ecde4bf7-4955-4f86-a448-b5648e435fe2" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Instructions" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="instructions" id="f85ecda1-f2a1-44c9-8eee-63f578efef08"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/product/instructions" methodName="Instructions" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="instructions" id="03ec317f-7f4d-43d6-bd5b-f286bfdb45a4" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "productIDs": [
  		
    346605,
    387989,
    387981,
    369205
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/product/instructions</con:originalUri><con:assertion type="Simple Contains" id="6725e521-fd27-43d5-bc15-945dff4e263f" name="Contains"><con:configuration><token>instructionScreens</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Valid HTTP Status Codes" id="c2aa3e29-766b-46f5-b417-35d094ced163" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="a70b9acd-b593-4bda-979c-6efd29585380" name="Menu"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f93214ce-728a-4449-95bd-fa86cffa8429" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="GetToken" id="337804b4-45a9-4e38-a182-eb87a6727c28"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "${#Project#companyGuid}",
  "userGuid": "${#Project#userGuid}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3529ebc9-f71e-41ac-940f-53bf9da73c65" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer - Token" id="245bdfc8-a5d6-48f4-a810-c752bcf508b6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="eb8c5d0a-75d9-4610-863d-0d1a6afe90a3"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2f7775d0-8353-4105-aab1-7f853bb698ee" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="49d36da7-16d3-4594-8de1-e5a49a883177"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="55049ee1-60c1-4475-9520-4d5c4067b9bf" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Timeslots" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="Timeslots" id="88572158-ab92-425b-809d-a6a8eb369157"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/menu/timeslots" methodName="timeslots" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Timeslots" id="67083436-b2c1-4172-b10d-312a69e2f870" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "orderDate": "${#Project#DateToday}"

}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/timeslots</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="8babe4ed-82fc-4d07-8051-d640d385bea3"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("Timeslots").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="f6e31345-0fad-4f2c-bb25-7cbd8204ec57" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Availability" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="availability" id="878a4d31-a2d7-422a-9ea9-43aebb638a6d"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/menu/availability" methodName="MenuAvailability" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="availability" id="cc43e3b8-2e94-473f-9fe8-8c258161a2cb" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "startDate": "${#Project#DateToday}",
  "endDate": "${#Project#DateToday}",
  "periodID": ${#Project#PeriodID}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/availability</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="e5181e44-c828-450f-a958-6956dc6fae94"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("availability").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="2c17d484-d7e8-4a8c-950b-25ea7a3238ea" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Detail" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="detail" id="1afad786-aa57-46c9-bd36-789a2b0b1e94"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/menu/detail" methodName="MenuDetail" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="detail" id="a07a7e46-22a9-4892-805b-6be2aa197e39" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "menuID": ${#Project#MenuID1}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/detail</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="ed64bfda-2085-4b3f-b7b6-9e2d887d4811"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("detail").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="654579fe-10fb-4539-a95f-2395e8e8bd5c" name="Order - With Timeslot"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="34cb55f2-b02e-40ed-8096-19d7172514b5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="getToken" id="54f9826b-aa77-4e7e-8d3d-f0f1424f6f14"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "3D1043ED-6C66-4F15-A813-22D97709D4EC",
  "userGuid": "B668701F-4467-4AB8-99D1-382B638276B3"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="d4a663d7-8150-486f-82cc-01e765ac214a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="ed959969-b4e1-4b06-bbf0-ca0bd69d916e"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="4aff783d-5976-407b-8c2a-536a76c72549"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="8ba846cc-f625-4395-8665-0e5cb3407f20" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateNew" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AbandonAnyPreviousOrder" id="52f6bf39-57e3-4ee7-b55e-bea51983476b"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/abandon" methodName="Abandon" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AbandonAnyPreviousOrder" id="863a613d-4c71-49a5-b92b-1b3758cf9fe8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "notes": "${#Project#Notes}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/abandon</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode1" id="62ccd7dc-4ad8-4787-b5e7-425d54412c34"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AbandonAnyPreviousOrder").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="create" id="b4305190-c40e-49d7-9d91-062154eecbe6"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/create" methodName="OrdersCreate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="create" id="218b3d02-03a2-4c3a-a3d2-dab98cb4f141" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "periodID": ${#Project#PeriodID},
  "customerRef": "${#Project#CustRef}",
  "slotStart": "${#Project#SlotStart}",
  "slotEnd": "${#Project#SlotEnd}",
  "preparationTime": "${#Project#PrepTime}",
  "orderNow": false
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/create</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="05954eea-786d-4aae-90bf-1b65bb9109a6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer OrderID" id="4dde17f3-70e5-42d8-970a-00c8346c600a"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>OrderID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>create</con:sourceStep><con:targetType>OrderID</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="d1356f23-4675-433f-9333-200884a30737"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("create").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="44cb05ff-573b-49d1-8c88-ed66db2c5a66" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ListAccountOrders" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="list" id="db92b69c-5cda-4c5d-88a7-fd7ff78a289e"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="list" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 5,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="53a292d7-93c7-47a4-9212-7e6da79b1167"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("list").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7f55fc6d-3449-4170-8f48-2ca90700d7e5" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AddLines" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="addOrderLines" id="6b5b440f-3375-49a4-90e6-c3f72954cf9b"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/addlines" methodName="addLines" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addOrderLines" id="b7795447-e26b-4c1b-ba78-bdbbec9d590d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>[
  {
    "orderLineID": -1,
    "orderID": ${#Project#OrderID},
    "menuItemID": ${#Project#menuItemID},
    "menuID": ${#Project#MenuID1},
    "productID": ${#Project#ProductID1},
    "displayName": "${#Project#displayName1}",
    "quantityRequired": 1,
    "quantityAvailable": 1,
    "priceLevelID": ${#Project#PriceLevelID},
    "modifierID": ${#Project#ModifierID},
    "modifierName": "${#Project#ModifierName}",
    "portionSize": 100,
    "price": ${#Project#Price1},
    "notes": "",
    "notesTitle": "",
    "notesHint": "",
    "lineType": "Product",
    "parentOrderLineID": -1,
    "childItems": []
   }
]</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/addlines</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7320507a-586f-49bf-bc3e-5557bb6e3bec" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="6e12c195-f664-422c-9f83-de646ccbf278"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("addOrderLines").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="ListOrders" id="80a17b3b-ec42-4d05-9d74-916eeae0453c"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ListOrders" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#orderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0c7dfd87-5668-4b6d-960e-784e45963399" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="5882aa68-8e9d-49ae-8270-64cad78768dc" name="Contains 1"><con:configuration><token>"This is a test!!"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer OrderLineID" id="dab09893-d879-4860-b95b-2d893ee5670e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>OrderLineID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>ListOrders</con:sourceStep><con:sourcePath>$.orders.[*].orderItems.[*].orderLineID[0]</con:sourcePath><con:targetType>OrderLineID</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="5f7877de-b1bd-486c-aaa0-2b011cfd0c01"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ListOrders").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="edf7a9c1-abd0-49cd-8e3a-2c9ffa61fb97" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AmendLine" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="amendLine" id="9aa9268b-cbdb-4e4b-a89f-168785c9ae60"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/amendline" methodName="AmendLine" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="amendLine" id="b1cddf45-bca3-4852-bea2-2191382bfa58" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "orderLineID": ${#Project#OrderLineID},
  "quantity": 2
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/amendline</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e21634dc-7349-4081-968c-2e21c7453c26" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="bfced507-0b9f-4564-ae33-81059a86028a"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("amendLine").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="AssertListValueChange" id="855ad252-fa41-43cc-8a96-a8b4044ead53"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AssertListValueChange" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="JsonPath Match" id="aa217918-37bd-49c6-8873-da29df8f2a83" name="JsonPath Match"><con:configuration><path>[orders].orderItems[?(@.orderLineID=='${#Project#OrderLineID}')].quantityRequired</path><content>[2]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="11353328-f8d9-48fb-9cf5-06c8172f3871"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AssertListValueChange").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="d64709a3-ebb5-4c69-8ea1-0e7b403ac15d" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ValidateOrder" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="validate" id="ce5b40a3-e7b8-47c3-a55c-7415a4c27674"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/validate" methodName="Validate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="validate" id="eb22edb6-e1d3-4a3a-9990-6f9f78e386b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "purseID": ${#Project#PurseID},
  "suppressedValidations": [
    "ItemPriceValue"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/validate</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="459acdbd-463a-42d5-9a9c-29e22b41424e"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("validate").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="4c83fb1c-aef3-4a53-ae55-72025493184b" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Delivery" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="delivery" id="81fec247-2cb5-4350-80bb-7da7908453c2"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/delivery" methodName="Delivery" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="delivery" id="f34751ca-1bce-4fee-8701-04b53b3d7abe" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "orderID": ${#Project#OrderID},
  "locationID": ${#Project#LocationID},
  "location": "${#Project#Location}",
  "tableID": ${#Project#TableID},
  "tableNo": ${#Project#TableNo}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/delivery</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="d02c0a79-84ff-4d0a-ae6c-cb52afa254eb"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("delivery").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="AssertLocationAdded" id="24092204-47a9-402b-95d2-f3b870816ea3"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AssertLocationAdded" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="JsonPath Match" id="f47fb99d-14b6-49c7-a2d9-520d953c0184" name="JsonPath Match"><con:configuration><path>[orders].deliveryLocation[?(@.orderID=='${#Project#OrderID}')].locationID</path><content>[401974]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="c70c1e18-38ab-46dc-95ec-3b7971867602"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AssertLocationAdded").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7d2cc589-3fc6-4227-b725-8071444353e7" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Pay" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="pay" id="ceaf6de3-4043-40b8-9ef5-43ee6c274540"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="pay" id="f13f5010-9ce8-4b12-818d-363813d33185" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "purseID": ${#Project#PurseID},
  "suppressedValidations": [
    "ItemPriceValue"
  ],
  "paymentType": "SavedCard",
  "paymentCardID": ${#Project#PaymentCardID1}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="784a4db3-0927-48c4-a0e9-6b0784598de7" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="9d7025c4-b730-4a17-94a6-260a34e162dc"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("pay").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="5e16ee95-f68d-4bc5-884d-3ad00cfcc61c" name="Order - Order Now"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f8273918-eee1-414b-b5b2-b9592f4f1a53" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="getToken" id="9fed9a1c-221d-4327-807f-bae2809a6739"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "3D1043ED-6C66-4F15-A813-22D97709D4EC",
  "userGuid": "B668701F-4467-4AB8-99D1-382B638276B3"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="f90d55df-a46a-4b12-9c80-52e4792d7684"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="5ee3487d-8b0e-4304-afeb-e2da1b2cecda"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="1f97fc70-cc19-4329-aab3-2b4dcaef12aa"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="bdd8fa95-b738-4d6e-b981-5c4d4fcf8928" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateNew" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="AbandonAnyPreviousOrder" id="7c639540-a6a6-40a8-8cd7-abb61bad77a4"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/abandon" methodName="Abandon" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AbandonAnyPreviousOrder" id="863a613d-4c71-49a5-b92b-1b3758cf9fe8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "notes": "${#Project#Notes}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/abandon</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode1" id="18d88a4b-20ba-41a4-91d9-729999d3e149"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AbandonAnyPreviousOrder").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="GetTimeslots" id="c61684cd-033b-4652-9a11-1c0724c85604"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/menu/timeslots" methodName="timeslots" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetTimeslots" id="67083436-b2c1-4172-b10d-312a69e2f870" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "orderDate": "${#Project#DateToday}"

}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/menu/timeslots</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetSlotTimeProperties" id="9bccac32-3501-4872-a947-a91a416ae289"><con:settings/><con:config><script>import groovy.json.JsonSlurper

// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("GetTimeslots").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)



//Set OrderNowSlotStart
responseContent = testRunner.testCase.getTestStepByName("GetTimeslots").getPropertyValue("response")
slurperresponse = new JsonSlurper().parseText(responseContent)
def slotStart = slurperresponse.slotStart[0]
log.info slotStart
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "SlotStartOrderNow", slotStart)

//Set OrderNowSlotStart
responseContent = testRunner.testCase.getTestStepByName("GetTimeslots").getPropertyValue("response")
slurperresponse = new JsonSlurper().parseText(responseContent)
def slotEnd = slurperresponse.slotEnd[0]
log.info slotEnd
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "SlotEndOrderNow", slotEnd)

Set PrepTimeOrderNow
responseContent = testRunner.testCase.getTestStepByName("GetTimeslots").getPropertyValue("response")
slurperresponse = new JsonSlurper().parseText(responseContent)
def PrepStart = slurperresponse.preparationTime[0]
//log.info PrepStart
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "PrepTimeOrderNow", PrepStart)</script></con:config></con:testStep><con:testStep type="restrequest" name="create-OrderNow" id="e9c6e27a-7648-465d-987b-0c6b5a39c16f"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/create" methodName="OrdersCreate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="create-OrderNow" id="218b3d02-03a2-4c3a-a3d2-dab98cb4f141" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "periodID": ${#Project#PeriodID},
  "customerRef": "${#Project#CustRef}",
  "slotStart": "${#Project#SlotStartOrderNow}",
  "slotEnd": "${#Project#SlotEndOrderNow}",
  "preparationTime": "${#Project#SlotStartOrderNow}",
  "orderNow": true
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/create</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="05954eea-786d-4aae-90bf-1b65bb9109a6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer OrderID" id="5bf5e6de-004b-499e-9dad-41bb8b622d02"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>OrderID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>create-OrderNow</con:sourceStep><con:targetType>OrderID</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="359c4324-d700-4993-8149-37eb65da9bb0"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("create-OrderNow").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="5c212085-a592-477e-aa2f-76830729c113" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ListAccountOrders" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="list" id="0437534e-8ec2-455b-84c3-e8526137e6ec"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="list" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 5,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="408ba68e-d00e-4df8-953c-046a99404137" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="e27333c1-3dd3-46d7-8992-3042b7db74e4" name="Contains"><con:configuration><token>${#Project#OrderID}</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="0d5b1752-2824-44d7-9c3d-785db28de47f"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("list").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="558cdd25-e91f-4b32-8dd9-ffa0552aa4f9" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AddLines" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="addOrderLines" id="b5c8c84f-06e0-4e03-b7e2-b4215f5f06e5"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/addlines" methodName="addLines" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addOrderLines" id="b7795447-e26b-4c1b-ba78-bdbbec9d590d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>[
  {
    "orderLineID": -1,
    "orderID": ${#Project#OrderID},
    "menuItemID": ${#Project#menuItemID},
    "menuID": ${#Project#MenuID1},
    "productID": ${#Project#ProductID1},
    "displayName": "${#Project#displayName1}",
    "quantityRequired": 1,
    "quantityAvailable": 1,
    "priceLevelID": ${#Project#PriceLevelID},
    "modifierID": ${#Project#ModifierID},
    "modifierName": "${#Project#ModifierName}",
    "portionSize": 100,
    "price": ${#Project#Price1},
    "notes": "",
    "notesTitle": "",
    "notesHint": "",
    "lineType": "Product",
    "parentOrderLineID": -1,
    "childItems": []
   }
]</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/addlines</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7320507a-586f-49bf-bc3e-5557bb6e3bec" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="c1b258ff-932a-4ec0-815f-9ba77d3a5169"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("addOrderLines").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="ListOrders" id="bf9d5e81-a606-426a-ae10-5a56fd81987b"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ListOrders" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#orderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0c7dfd87-5668-4b6d-960e-784e45963399" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="5882aa68-8e9d-49ae-8270-64cad78768dc" name="Contains 1"><con:configuration><token>"This is a test!!"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer OrderLineID" id="ae2a621d-a1d8-40d9-872d-695b300fb9ee"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>OrderLineID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>ListOrders</con:sourceStep><con:sourcePath>$.orders.[*].orderItems.[*].orderLineID[0]</con:sourcePath><con:targetType>OrderLineID</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="4cd1c397-72f8-4f00-8d2a-a256e871c7b6"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ListOrders").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="926d6899-7eac-4fcd-a626-3796c01086cc" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AmendLine" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="amendLine" id="45f69c68-34d9-4fea-b0d1-c1c6f50f9e38"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/amendline" methodName="AmendLine" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="amendLine" id="b1cddf45-bca3-4852-bea2-2191382bfa58" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "orderLineID": ${#Project#OrderLineID},
  "quantity": 2
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/amendline</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="e21634dc-7349-4081-968c-2e21c7453c26" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="3d9b3af0-5ecf-441c-904a-9e703c277b96"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("amendLine").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="AssertListValueChange" id="72f550c0-01b2-42a2-bf06-43467f115a1e"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AssertListValueChange" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="JsonPath Match" id="aa217918-37bd-49c6-8873-da29df8f2a83" name="JsonPath Match"><con:configuration><path>[orders].orderItems[?(@.orderLineID=='${#Project#OrderLineID}')].quantityRequired</path><content>[2]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="656c1d52-e969-4f8b-b896-61a65a4488dd"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AssertListValueChange").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="73473c9f-816b-46db-a0b3-3ea6097b08eb" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Delivery" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="delivery" id="f5c367c2-9a16-42cb-af7b-8f77e8b37b34"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/delivery" methodName="Delivery" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="delivery" id="f34751ca-1bce-4fee-8701-04b53b3d7abe" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "orderID": ${#Project#OrderID},
  "locationID": ${#Project#LocationID},
  "location": "${#Project#Location}",
  "tableID": ${#Project#TableID},
  "tableNo": ${#Project#TableNo}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/delivery</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="40dfada1-3b2a-4b86-839a-3e89b85978ba"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("delivery").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="AssertLocationAdded" id="97fa488b-db77-4917-accf-7e437f8d7318"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AssertLocationAdded" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="JsonPath Match" id="f47fb99d-14b6-49c7-a2d9-520d953c0184" name="JsonPath Match"><con:configuration><path>[orders].deliveryLocation[?(@.orderID=='${#Project#OrderID}')].locationID</path><content>[401974]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="ae95ae8a-8628-461f-bf1b-b6b73137c133"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AssertLocationAdded").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7b52ebcc-4ac5-44b4-9807-52449cfccab8" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ValidateOrder" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="validate" id="8c44358c-a0d2-47ac-badb-e49a65a41bdc"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/validate" methodName="Validate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="validate" id="eb22edb6-e1d3-4a3a-9990-6f9f78e386b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "purseID": ${#Project#PurseID},
  "suppressedValidations": [
    "ItemPriceValue"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/validate</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="57082fed-67aa-4ba9-97c4-fda5b733b868" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="cf7d5709-a7ca-4661-8a06-e066c20c3fee" name="Not Contains"><con:configuration><token>TimeslotTooLate</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:assertion type="Simple NotContains" id="acb9b07e-f797-46e4-8c5a-c485b49b2c1c" name="Not Contains 1"><con:configuration><token>DeliveryNotSelected</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="4ca50914-f4b1-4191-acf3-8b9575fa51e6"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("validate").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="51c1d559-bea0-43f1-8ac1-29962fea68ad" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Pay" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="pay" id="713f3e3d-1a0a-426b-85b1-24d4b028a109"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/pay" methodName="Pay" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="pay" id="f13f5010-9ce8-4b12-818d-363813d33185" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "purseID": ${#Project#PurseID},
  "suppressedValidations": [
    "ItemPriceValue"
  ],
  "paymentType": "SavedCard",
  "paymentCardID": ${#Project#PaymentCardID1}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/pay</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="784a4db3-0927-48c4-a0e9-6b0784598de7" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="260cbcf9-d3a7-4026-b405-7a6fad2a95c0"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("pay").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="2450ec27-6632-4fe5-9f33-a9bb8a58e7cc" name="Order - Abandon Order"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="47d34803-d0b1-4de8-961b-5f2b911c60c0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="getToken" id="2a92da48-ccdd-4fa9-bbcd-cd7f875c0c1b"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="getToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "3D1043ED-6C66-4F15-A813-22D97709D4EC",
  "userGuid": "B668701F-4467-4AB8-99D1-382B638276B3"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="c6f99f67-d11a-4f48-bcc4-64e97c76b428"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>getToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="15b59a56-b811-4c2a-bd00-13fc721e6420"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="4fa7ae46-35f0-4fc4-ba39-8990f548059c"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ResetMacCode").httpRequest.response.responseHeaders["api-next-mac-code"][0]
//log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="5275b1f3-1313-4dba-b88b-3e20ee73ec93" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="CreateNew" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="create" id="ca2d1a3a-b307-417e-9381-bfd6cd6b1f09"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/create" methodName="OrdersCreate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="create" id="218b3d02-03a2-4c3a-a3d2-dab98cb4f141" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "siteKey": "${#Project#SiteKey}",
  "periodID": ${#Project#PeriodID},
  "customerRef": "${#Project#CustRef}",
  "slotStart": "${#Project#SlotStart}",
  "slotEnd": "${#Project#SlotEnd}",
  "preparationTime": "${#Project#PrepTime}",
  "orderNow": false
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/create</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="05954eea-786d-4aae-90bf-1b65bb9109a6" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer OrderID" id="0c91b1ff-ba15-47a0-9074-09a979c6bd02"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>OrderID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>create</con:sourceStep><con:targetType>OrderID</con:targetType><con:targetStep>#Project#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="bfe8982f-9209-4a02-83b5-d9f61a69984e"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("create").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="e504fc28-f56a-46dd-b41e-cde92d3ea235" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ListAccountOrders" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="list" id="63401d6e-4c98-4b31-9a84-21a53f5f4e32"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="list" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 5,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="18d865e5-22df-4d8b-844c-be3d32f84ee6"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("list").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="aeeec123-848d-4d6a-857c-e0a9c7cab20f" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="AddLines" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="addOrderLines" id="40d29431-c414-4771-8457-d3bada80d9c4"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/addlines" methodName="addLines" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="addOrderLines" id="b7795447-e26b-4c1b-ba78-bdbbec9d590d" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>[
  {
    "orderLineID": -1,
    "orderID": ${#Project#OrderID},
    "menuItemID": ${#Project#menuItemID},
    "menuID": ${#Project#MenuID1},
    "productID": ${#Project#ProductID1},
    "displayName": "${#Project#displayName1}",
    "quantityRequired": 1,
    "quantityAvailable": 1,
    "priceLevelID": ${#Project#PriceLevelID},
    "modifierID": ${#Project#ModifierID},
    "modifierName": "${#Project#ModifierName}",
    "portionSize": 100,
    "price": ${#Project#Price1},
    "notes": "",
    "notesTitle": "",
    "notesHint": "",
    "lineType": "Product",
    "parentOrderLineID": -1,
    "childItems": []
   }
]</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/addlines</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="7320507a-586f-49bf-bc3e-5557bb6e3bec" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="54a11f7a-b8b4-4570-8d3a-1c3ebebf58af"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("addOrderLines").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="ListOrders" id="f9457967-0576-421f-9590-09d7abda828b"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ListOrders" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#orderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="0c7dfd87-5668-4b6d-960e-784e45963399" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:assertion type="Simple Contains" id="5882aa68-8e9d-49ae-8270-64cad78768dc" name="Contains 1"><con:configuration><token>"This is a test!!"</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Transfer OrderLineID" id="0761c4cc-0945-4454-b297-a70c942b03e3"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>OrderLineID</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>ListOrders</con:sourceStep><con:sourcePath>$.orders.[*].orderItems.[*].orderLineID[0]</con:sourcePath><con:targetType>OrderLineID</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>JSONPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="51681f97-575e-42e2-bb66-a9f86eb747c4"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("ListOrders").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="7a42c304-1cab-40ad-bc55-88e30927fb47" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Delivery" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="delivery" id="37b93c37-82b7-4b34-b698-013458d6bf5a"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/delivery" methodName="Delivery" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="delivery" id="f34751ca-1bce-4fee-8701-04b53b3d7abe" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "orderID": ${#Project#OrderID},
  "locationID": ${#Project#LocationID},
  "location": "${#Project#Location}",
  "tableID": ${#Project#TableID},
  "tableNo": ${#Project#TableNo}
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/delivery</con:originalUri><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="e1f275ad-dcf5-4b4b-8eca-f2ad88c3bd58"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("delivery").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="AssertLocationAdded" id="7dcbd070-4116-401a-8c32-7151e98ad842"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AssertLocationAdded" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="JsonPath Match" id="f47fb99d-14b6-49c7-a2d9-520d953c0184" name="JsonPath Match"><con:configuration><path>[orders].deliveryLocation[?(@.orderID=='${#Project#OrderID}')].locationID</path><content>[401974]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="6afddb3b-12e4-4fba-bc54-ab2499fcbfdd"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AssertLocationAdded").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="ed282ca9-851d-4e7c-8a87-95b14ae372f0" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="Abandon" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="abandonOrder" id="9f6d81c6-e2c6-485f-8980-a9e68e9a9232"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/abandon" methodName="Abandon" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="abandonOrder" id="863a613d-4c71-49a5-b92b-1b3758cf9fe8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "notes": "${#Project#Notes}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/abandon</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="a10ff308-7bfe-4a4b-acdb-86c0271a98d5" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode" id="d328b33e-f80e-4d6d-8c99-7ff5c506f9a7"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("abandonOrder").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:testStep type="restrequest" name="AssertOrderAbandoned" id="756db114-73aa-4a21-ada4-cfd804dd81b2"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/list" methodName="OrdersList" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="AssertOrderAbandoned" id="393380e3-de8b-48ae-8f72-23ace53c93ff" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="${#Project#MACCode}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "orderID": ${#Project#OrderID},
  "getFullDetail": true,
  "pageNumber": 1,
  "ordersPerPage": 1,
  "status": [
    "Draft"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/list</con:originalUri><con:assertion type="JsonPath Match" id="ea139b56-2c09-4d9f-861b-2e10f8ee3a06" name="JsonPath Match"><con:configuration><path>[orders][?(@.orderID=='${#Project#OrderID}')].status</path><content>[Abandoned]</content><allowWildcards>false</allowWildcards><ignoreNamspaceDifferences>false</ignoreNamspaceDifferences><ignoreComments>false</ignoreComments></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="SetNextMACCode2" id="1765b178-29f9-48b4-992e-526cbb6f2406"><con:settings/><con:config><script>
// Get the 'next mac code' header
def nextMacCode= testRunner.testCase.getTestStepByName("AssertOrderAbandoned").httpRequest.response.responseHeaders["api-next-mac-code"][0]
log.info nextMacCode
// Set the global property for the header
testRunner.testCase.testSuite.project.setPropertyValue( "MACCode", nextMacCode)</script></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:testSuite id="115ee75e-5217-4156-988b-dae21d25146d" name="NegTests" disabled="true"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase id="f30c7b23-c1a1-4e0b-bdcd-b1cfad225025" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="GetTokenResetMAC TC" searchProperties="true"><con:description>TestCase generated for REST Resource [resetmaccode] located at [/ClickCollectRESTAPI/api/authentication/resetmaccode]</con:description><con:settings/><con:testStep type="restrequest" name="GetToken" id="ba51bc67-1643-4261-9f26-c0c2ecf7ac13"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/gettoken" methodName="GetToken" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="GetToken" id="f659e83b-2de3-45f5-923e-4ee857425177" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "companyGuid": "${#Project#companyGuid}",
  "userGuid": "${#Project#userGuid}"
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/gettoken</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="3529ebc9-f71e-41ac-940f-53bf9da73c65" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer - Token" id="e3a653b1-c42b-436f-a19d-06d0e2e119ad"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>getToken</con:name><con:sourceType>Response</con:sourceType><con:sourceStep>GetToken</con:sourceStep><con:targetType>Authorization</con:targetType><con:targetStep>#Project#</con:targetStep><con:type>XPATH</con:type><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="ResetMacCode" id="341fbfab-b939-421b-9fdc-16719a3dbd07"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/authentication/resetmaccode" methodName="ResetMacCode" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="ResetMacCode" id="927d8d47-8850-41da-a450-f41e773ba274" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="SharedSecret" value="${#Project#SharedSecret}"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request/><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/authentication/resetmaccode</con:originalUri><con:assertion type="Valid HTTP Status Codes" id="2f7775d0-8353-4105-aab1-7f853bb698ee" name="Valid HTTP Status Codes"><con:configuration><codes>200</codes></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/><con:parameterOrder/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase id="3add1c2c-04cc-494f-9ccf-ae2f525acdab" failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="ValidateOrder-NoOrder" searchProperties="true"><con:settings/><con:testStep type="restrequest" name="validate" id="fa2bd20b-185a-4561-93ed-bfd6f7ab5ae6"><con:settings/><con:config service="https://beta.mcr-symphony.net" resourcePath="/ClickCollectRESTAPI/api/order/validate" methodName="Validate" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="validate" id="eb22edb6-e1d3-4a3a-9990-6f9f78e386b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="Authorization" value="Bearer ${#Project#Authorization}"/>
  &lt;con:entry key="MACCode" value="3"/>
&lt;/xml-fragment></con:setting></con:settings><con:endpoint>https://${#Project#ServiceEndPoint}</con:endpoint><con:request>{
  "accountID": ${#Project#AccountID},
  "purseID": ${#Project#PurseID},
  "suppressedValidations": [
    "ItemPriceValue"
  ]
}</con:request><con:originalUri>https://beta.mcr-symphony.net/ClickCollectRESTAPI/api/order/validate</con:originalUri><con:assertion type="Simple Contains" id="be7cfb9a-79bd-4274-9b24-d286c60fe931" name="Contains"><con:configuration><token>This account does not have any open orders to validate, their basket is empty.</token><ignoreCase>false</ignoreCase><useRegEx>false</useRegEx></con:configuration></con:assertion><con:credentials><con:username xsi:nil="true"/><con:password xsi:nil="true"/><con:domain xsi:nil="true"/><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties/></con:testSuite><con:properties><con:property><con:name>userGuid</con:name><con:value>B668701F-4467-4AB8-99D1-382B638276B3</con:value></con:property><con:property><con:name>TableNo</con:name><con:value>0</con:value></con:property><con:property><con:name>TableID</con:name><con:value>0</con:value></con:property><con:property><con:name>SlotStartOrderNow</con:name><con:value>2020-12-03T18:00:00</con:value></con:property><con:property><con:name>SlotStart</con:name><con:value>${= new Date().format("yyyy-MM-dd")+'T18:00:00'}</con:value></con:property><con:property><con:name>SlotEndOrderNow</con:name><con:value>2020-12-03T19:00:00</con:value></con:property><con:property><con:name>SlotEnd</con:name><con:value>${= new Date().format("yyyy-MM-dd")+'T19:00:00'}</con:value></con:property><con:property><con:name>SiteKey</con:name><con:value>3/9</con:value></con:property><con:property><con:name>SharedSecret</con:name><con:value>ggEoYriwq32L1HStAgUodw==</con:value></con:property><con:property><con:name>ServiceEndPoint</con:name><con:value>beta.mcr-symphony.net</con:value></con:property><con:property><con:name>PurseID</con:name><con:value>8</con:value></con:property><con:property><con:name>ProductID1</con:name><con:value>369205</con:value></con:property><con:property><con:name>PriceLevelID</con:name><con:value>228619</con:value></con:property><con:property><con:name>Price1</con:name><con:value>2.79</con:value></con:property><con:property><con:name>PrepTimeOrderNow</con:name><con:value>2020-12-03T17:00:00</con:value></con:property><con:property><con:name>PrepTime</con:name><con:value>${=def now = new Date();now.format("yyyy-MM-dd")+'T17:00:00'}</con:value></con:property><con:property><con:name>PeriodID</con:name><con:value>393051</con:value></con:property><con:property><con:name>PaymentCardID2</con:name><con:value/></con:property><con:property><con:name>PaymentCardID1</con:name><con:value>10076</con:value></con:property><con:property><con:name>OrderLineID</con:name><con:value>7259</con:value></con:property><con:property><con:name>OrderID</con:name><con:value>4479</con:value></con:property><con:property><con:name>Notes</con:name><con:value>This is a note</con:value></con:property><con:property><con:name>ModifierName</con:name><con:value>Standard Modifier</con:value></con:property><con:property><con:name>ModifierID</con:name><con:value>227329</con:value></con:property><con:property><con:name>menuItemID</con:name><con:value>393048</con:value></con:property><con:property><con:name>MenuID1</con:name><con:value>393043</con:value></con:property><con:property><con:name>MACCode</con:name><con:value>12</con:value></con:property><con:property><con:name>LocationID</con:name><con:value>401974</con:value></con:property><con:property><con:name>Location</con:name><con:value>Building 1, Location A</con:value></con:property><con:property><con:name>Email</con:name><con:value>sbrennan@mcr-systems.co.uk</con:value></con:property><con:property><con:name>displayName1</con:name><con:value>BECKS 660ML</con:value></con:property><con:property><con:name>DateTomorrow</con:name><con:value>${=def now = new Date();now++;now.format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>DateToday</con:name><con:value>${=new Date().format("yyyy-MM-dd")}</con:value></con:property><con:property><con:name>DateTimeNow</con:name><con:value>${=new Date().format("yyyy-MM-dd'T'HH:mm:ss")}</con:value></con:property><con:property><con:name>CustRef</con:name><con:value>This is a test!!</con:value></con:property><con:property><con:name>Courses</con:name><con:value>393044</con:value></con:property><con:property><con:name>companyGuid</con:name><con:value>3D1043ED-6C66-4F15-A813-22D97709D4EC</con:value></con:property><con:property><con:name>Authorization</con:name><con:value>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjZ2QiOiIzZDEwNDNlZC02YzY2LTRmMTUtYTgxMy0yMmQ5NzcwOWQ0ZWMiLCJ1Z2QiOiJiNjY4NzAxZi00NDY3LTRhYjgtOTlkMS0zODJiNjM4Mjc2YjMiLCJuYmYiOjE2MDcwODEyNDMsImV4cCI6MTYwNzA4MzA0OCwiaWF0IjoxNjA3MDgxMjQzfQ.F2gasqyTgF5Sg6nt5tjYfMprAtAx3bzW3VpGsjgRmi0</con:value></con:property><con:property><con:name>AccountID</con:name><con:value>6119</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer><con:oAuth2Profile><con:name>Profile 1</con:name><con:accessToken>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjZ2QiOiIzZDEwNDNlZC02YzY2LTRmMTUtYTgxMy0yMmQ5NzcwOWQ0ZWMiLCJ1Z2QiOiJiNjY4NzAxZi00NDY3LTRhYjgtOTlkMS0zODJiNjM4Mjc2YjMiLCJuYmYiOjE2MDQ1NzgzNzAsImV4cCI6MTYwNDU4MDE3NSwiaWF0IjoxNjA0NTc4MzcwfQ.Mqr67uGHo-S6-Fnqwgd6jaaDM-b37sZ_kc5z6a8S3HQ</con:accessToken><con:accessTokenPosition>HEADER</con:accessTokenPosition><con:oAuth2Flow>AUTHORIZATION_CODE_GRANT</con:oAuth2Flow><con:refreshAccessTokenMethod>AUTOMATIC</con:refreshAccessTokenMethod><con:accessTokenStatus>UNKNOWN</con:accessTokenStatus><con:accessTokenStartingStatus>ENTERED_MANUALLY</con:accessTokenStartingStatus><con:manualAccessTokenExpirationTime/><con:manualAccessTokenExpirationTimeUnit>SECONDS</con:manualAccessTokenExpirationTimeUnit></con:oAuth2Profile></con:oAuth2ProfileContainer><con:oAuth1ProfileContainer/><con:sensitiveInformation/></con:soapui-project>